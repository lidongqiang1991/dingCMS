<!-- 页面内容区(HTML片段，不能放置HTML 及 BODY 标签 )-->
<!-- 若要正常使用实时预览功能，请在首页index.html中添加路由#settlement/settlement -->
<div>
	<div class="u-container-fluid padding-0" id="settlement">
		<div class="u-row margin-0 padding-0 content-title">
			<div class="u-col-md-12 u-col-sm-12 u-media-middle margin-0 padding-0">
				<h3 class="c-title pull-left padding-15 padding-left-20 c_size_28">订单列表</h3>
				<div class="pull-right padding-15 padding-left-0 padding-right-0">
					<div id="searchdiv" class="margin-right-10 pull-right u-has-feedback input_enter">
						<input type="text" class="u-form-control c-sm" id="search" placeholder="订单号/姓名/手机号">
						<span class="uf zoom uf-search-light-2" id="searchBtn" data-bind="click: event.searchClick"></span>
						<span class="u-form-control-feedback-1  uf-search-light-0 uf uf-close" id="returnBtn"
							  data-bind="click: event.returnClick"></span>
					</div>
					<div id="button_org" class="pull-right">
						<input type="button" class="margin-right-15 padding-right-5 padding-left-5 u-button u-button-primary u-buttom-sm bg_blue" value="运营中心结算" data-bind="click: event.addClick">
					</div>

					<div id="button_agent" class="pull-right">
						<input type="button" class="margin-right-15 padding-right-10 padding-left-10 u-button u-button-primary u-buttom-sm bg_blue" value="运营商结算" data-bind="click: event.addClick_">
					</div>
				</div>
			</div>
		</div>
		<div class="u-row  padding-10 prefilter">
			<div class=" pull-left">
				<div class="u-col-md-4 " style="width:16%;">
					<div class="u-combo" id="combobox_orgname"
						 u-meta='{"type":"u-combobox","datasource":"orgList","data":"searchdatanew","field":"orgid","onlySelect":true}'>
						<div class="u-input-group u-has-feedback">
						<span class="u-form-control-feedback fa fa-angle-down"
							  data-role="combo-button"></span>
							<input  class="u-form-control" placeholder="运营中心" readonly/>
						</div>
					</div>
				</div>
				<div class="u-col-md-4 " style="width:16%;">
					<div class="u-combo" id="combobox_agentname"
						 u-meta='{"type":"u-combobox","datasource":"agentList","data":"searchdatanew","field":"agentid","onlySelect":true}'>
						<div class="u-input-group u-has-feedback">
						<span class="u-form-control-feedback fa fa-angle-down"
							  data-role="combo-button"></span>
							<input  class="u-form-control" placeholder="运营商" readonly/>
						</div>
					</div>
				</div>

				<div class="u-col-md-4 " style="width:16%;">
					<div class="u-combo"
						 u-meta='{"type":"u-combobox","datasource":"projectList","data":"searchdatanew","field":"servicestate","onlySelect":true}'>
						<div class="u-input-group u-has-feedback">
						<span class="u-form-control-feedback fa fa-angle-down"
							  data-role="combo-button"></span>
							<input  class="u-form-control" placeholder="施工状态" readonly/>
						</div>
					</div>
				</div>

				<div class="u-col-md-4 " style="width:16%;">
					<div class="u-combo"
						 u-meta='{"type":"u-combobox","datasource":"payList","data":"searchdatanew","field":"paystate","onlySelect":true}'>
						<div class="u-input-group u-has-feedback">
						<span class="u-form-control-feedback fa fa-angle-down"
							  data-role="combo-button"></span>
							<input  class="u-form-control" placeholder="付款状态" readonly/>
						</div>
					</div>
				</div>

				<div class="u-col-md-4 " style="width:17%;">
					<div class="u-combo"
						 u-meta='{"type":"u-combobox","datasource":"orgsettlementList","data":"searchdatanew","field":"orgstate","onlySelect":true}'>
						<div class="u-input-group u-has-feedback">
						<span class="u-form-control-feedback fa fa-angle-down"
							  data-role="combo-button"></span>
							<input  class="u-form-control" placeholder="运营中心结算状态" readonly/>
						</div>
					</div>
				</div>

				<div class="u-col-md-4 " style="width:17%;">
					<div class="u-combo"
						 u-meta='{"type":"u-combobox","datasource":"agentsettlementList","data":"searchdatanew","field":"agentstate","onlySelect":true}'>
						<div class="u-input-group u-has-feedback">
						<span class="u-form-control-feedback fa fa-angle-down"
							  data-role="combo-button"></span>
							<input  class="u-form-control" placeholder="运营商结算状态" readonly/>
						</div>
					</div>
				</div>
			</div>

			<div class="padding-left-15 pull-left">
				<input type="button" class="margin-right-0 u-button u-button-primary u-buttom-sm bg_blue"  style="width: 120px;     margin-top: 10%;"
					   value="过滤" data-bind="click: event.filterClick">
			</div>
			<div class="padding-left-0 pull-left">
				<input type="button" class="margin-right-0 u-button u-button-primary u-buttom-sm bg_blue"  style="width: 120px;     margin-top: 10%;"
					   value="清空筛选条件" data-bind="click: event.resetClick">
			</div>



			<!--<div id="button_org" class="margin-right-20 pull-right">
			<input type="button" class="margin-right-10 u-button u-button-primary u-buttom-sm bg_blue" style="width: 120px;     margin-top: 10%;"
				 value="运营中心结算" data-bind="click: event.addClick">
			</div>

			<div id="button_agent" class="margin-right-20 pull-right">
				<input type="button" class="margin-right-10 u-button u-button-primary u-buttom-sm bg_blue"  style="width: 120px;     margin-top: 10%;"
				 value="运营商结算" data-bind="click: event.addClick_">
			</div>	-->
		</div>

		<!--列表展示-->
		<div class="main-container padding-top-0 contacts-container">
			<div class="hr-table">
				<div class="u-table b-table width-full"
					 u-meta='{"id":"paymentdata","type":"grid","data":"objdata","columnWidth":"150px","onDblClickFun":"event.selectClick"}'>
					<div options='{"field":"name","title":"客户姓名","dataType":"String","editType":"string","renderType":"event.renderTypeAjax"}'></div>
					<div options='{"field":"phone","title":"手机号","dataType":"String","editType":"string"}'></div>
					<div options='{"field":"vbillcode","title":"订单编码","dataType":"String","editType":"string"}'></div>
					<div options='{"field":"paystate","title":"收款状态","dataType":"String","editType":"string","renderType":"event.renderPayStatus"}'></div>
					<div options='{"field":"paidamount","title":"已收款金额","dataType":"float","editType":"float"}'></div>
					<div options='{"field":"totalamount","title":"合同总金额","dataType":"float","editType":"float"}'></div>
					<div options='{"field":"orgstate","title":"运营中心结算状态","dataType":"String","editType":"string","renderType":"event.renderOrgStatus"}'></div>
					<div options='{"field":"agentstate","title":"运营商结算状态","dataType":"String","editType":"string","renderType":"event.renderAgentStatus"}'></div>
					<div options='{"field":"servicestate","title":"施工状态","dataType":"String","editType":"string","renderType":"event.renderConstructionStatus"}'></div>
				</div>
			</div>
			<div id='pagination' class='pagination u-pagination pagination-sm'></div>
		</div>

		<!--运营中心结算-->
		<div id="dialog_content_settlement" class="modal-dialog" style="display:none;">
			<div class="u-msg-title">
				<h4>施工结算</h4>
			</div>
			<HR width="100%" color=#F8F9FB SIZE=3 align="center"/>
			<div class="u-row  padding-5  padding-top-0 font-size-14">
				<div class="margin-left-30 pull-left">
					<label>结算对象:</label>
					<input  disabled type="text" style="border: 0;background: transparent;" u-meta='{"type":"string","data":"objdatanew","field":"agentname"}' />
				</div>
				<div class="margin-right-30 pull-right">
					<label>合同金额:</label>
					<input  disabled="disabled" type="text" style="border: 0;width: 100px;background:transparent " u-meta='{"type":"string","data":"objdatanew","field":"totalamount"}' />
				</div>
			</div>
			<HR width="100%" color=#F8F9FB SIZE=3 align="center"/>
			<div class="u-msg-content settlement ">
				<div class="u-form" id="add-form">
					<div class="u-col-md-12 form-group" style="line-height: 36px;margin-bottom: 15px;" >
						<div class="u-col-md-3 control-label">
							<label>材料费:</label>
						</div>
						<input class="u-col-md-6 u-form-control " type="text" id="materialcosts" style="border: 0" value="30000"
							   u-meta='{"type":"float","data":"objdatanew","field":"materialcosts"}' disabled/>
					</div>
					<div class="u-col-md-12 form-group" style="line-height: 36px;margin-bottom: 15px;" >
						<div class="u-col-md-3 control-label">
							<label>服务费:</label>
						</div>
						<input class="u-col-md-6 u-form-control " type="text" id="servicecharge" style="border: 0" value="70000"
							   u-meta='{"type":"float","data":"objdatanew","field":"servicecharge"}' disabled/>
					</div>
					<div class="u-col-md-12 form-group" style="line-height: 36px;margin-bottom: 15px;" >
						<div class="u-col-md-3 control-label">
							<label>平台费用(服务费):</label>
						</div>
						<input class="u-col-md-6 u-form-control " type="text" id="platformpercent" style="border: 0" value="10%"
							   u-meta='{"type":"string","data":"objdatanew","field":"platformpercent"}' disabled />
					</div>
					<div class="u-col-md-12 form-group" style="line-height: 36px;margin-bottom: 15px;" >
						<div class="u-col-md-3 control-label">
							<label>应结算金额:</label>
						</div>
						<input class="u-col-md-6 u-form-control " type="text" id="domoney" style="border: 0" value="63000"
							   u-meta='{"type":"float","data":"objdatanew","field":"domoney"}' disabled />
					</div>
					<div class="u-col-md-12 form-group" style="line-height: 36px;margin-bottom: 15px;" >
						<div class="u-col-md-3 control-label">
							<label>还需结算金额:</label>
						</div>
						<input class="u-col-md-6 u-form-control " type="text" id="didmoney" style="border: 0" value="63000"
							   u-meta='{"type":"float","data":"objdatanew","field":"didmoney"}' disabled/>
					</div>

					<div class="u-col-md-12 form-group" style="line-height: 36px;margin-bottom: 15px;">
						<div class="u-col-md-3 control-label">
							<label style="color: red;">*</label>
							<label>结算金额</label>
						</div>
						<input class="u-col-md-6 u-form-control " type="float" id="money"
							   u-meta='{"type":"float","data":"objdatanew","field":"money"}'
							   onkeyup="value=value.replace(/[^\d{1,}\.\d{1,}|\d{1,}]/g,'')"
							   placeholder="请输入金额"/>
					</div>
					<div class="u-col-md-12 form-group" style="line-height: 36px;margin-bottom: 15px;" >
						<div class="u-col-md-3 control-label">
							<label>备注</label>
						</div>
						<textarea class="u-col-md-6 u-form-control " type="text"
								  u-meta='{"type":"textarea","data":"objdatanew","field":"memo"}' placeholder="备注"
						></textarea>
					</div>
				</div>
			</div>
			<div class="u-msg-footer">
				<button id="savepayment" class="u-msg-ok u-button u-button-primary bg_blue"
						data-bind="click: event.saveClick">
					保存 <span class="u-button-container"></span>
				</button>
				<button id="cancelpayment" class="u-msg-cancel u-button u-button-white"
						data-bind="click: event.cancelClick">
					取消 <span class="u-button-container"></span>
				</button>
			</div>
		</div>


		<!--工队结算-->
		<div id="dialog_content_settlement_w" class="modal-dialog" style="display:none;">
			<div class="u-msg-title">
				<h4>施工结算</h4>
			</div>
			<HR width="100%" color=#F8F9FB SIZE=3 align="center"/>
			<div class="u-row  padding-3  padding-top-0 font-size-14">
				<div class="margin-left-30 pull-left">
					<label>结算对象:</label>
					<input  type="text" style="border: 0;width: 100px;background: transparent" u-meta='{"type":"string","data":"objdatanew","field":"constructionname"}' disabled />
				</div>
				<div class="margin-right-30  pull-right">
					<label>合同金额:</label>
					<input  type="text" style="border: 0;width: 100px;background: transparent" u-meta='{"type":"string","data":"objdatanew","field":"totalamount"}' disabled/>
				</div>
			</div>
			<HR width="100%" color=#F8F9FB SIZE=3 align="center"/>
			<div class="u-msg-content settlement font-size-14">
				<div class="u-form" id="add-form_">
					<div class="u-col-md-12 form-group" style="line-height: 36px;margin-bottom: 15px;">
						<div class="u-col-md-3 control-label">
							<label style="color: red;">*</label>
							<label>结算金额</label>
						</div>
						<input class="u-col-md-6 u-form-control " type="float" id="money_"
							   u-meta='{"type":"float","data":"objdatanew","field":"money"}'
							   onkeyup="value=value.replace(/[^\d{1,}\.\d{1,}|\d{1,}]/g,'')"
							   placeholder="请输入金额"/>
					</div>
					<div class="u-col-md-12 form-group" style="line-height: 36px;margin-bottom: 15px;" >
						<div class="u-col-md-3 control-label">
							<label>备注</label>
						</div>
						<textarea class="u-col-md-6 u-form-control " type="text"
								  u-meta='{"type":"textarea","data":"objdatanew","field":"memo"}' placeholder="备注"
						></textarea>
					</div>
				</div>
			</div>
			<div class="u-msg-footer">
				<button id="savepayment_" class="u-msg-ok u-button u-button-primary bg_blue"
						data-bind="click: event.saveClick">
					保存 <span class="u-button-container"></span>
				</button>
				<button id="cancelpayment_" class="u-msg-cancel u-button u-button-white"
						data-bind="click: event.cancelClick">
					取消 <span class="u-button-container"></span>
				</button>
			</div>
		</div>

	</div>
</div>

